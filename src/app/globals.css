@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #171717;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  margin: 0;
  padding: 0;
}

/* 배경 설정 클래스들 */
.bg-default {
  background: #ffffff !important;
}

.bg-nature {
  background-image: url('/images/Forest.jpg') !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  background-attachment: fixed !important;
  background-color: transparent !important;
}

.bg-space {
  background-image: url('/images/Space.jpg') !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  background-attachment: fixed !important;
  background-color: transparent !important;
}

.bg-geometric {
  background-image: url('/images/architecture.jpg') !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  background-attachment: fixed !important;
  background-color: transparent !important;
}

/* 배경 이미지가 있을 때 콘텐츠 가독성을 위한 오버레이 */
.bg-nature .bg-white,
.bg-space .bg-white,
.bg-geometric .bg-white {
  background-color: rgba(255, 255, 255, 0.95) !important;
  backdrop-filter: blur(10px);
}

.bg-nature .bg-gray-50,
.bg-space .bg-gray-50,
.bg-geometric .bg-gray-50 {
  background-color: rgba(249, 250, 251, 0.95) !important;
  backdrop-filter: blur(10px);
}

/* 배경 이미지가 있을 때 전체 페이지 배경 강제 적용 */
body.bg-nature,
body.bg-space,
body.bg-geometric {
  background-image: inherit !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;
  background-attachment: fixed !important;
}

/* 배경 이미지가 적용된 컨테이너에서 하얀 배경 요소들의 투명도 조정 */
.bg-nature .bg-white,
.bg-space .bg-white,
.bg-geometric .bg-white {
  background-color: rgba(255, 255, 255, 0.9) !important;
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* 배경 이미지가 적용된 상태에서 텍스트 가독성 향상 */
.bg-nature h1,
.bg-space h1,
.bg-geometric h1,
.bg-nature h2,
.bg-space h2,
.bg-geometric h2,
.bg-nature h3,
.bg-space h3,
.bg-geometric h3 {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* 배경 이미지가 적용된 상태에서 버튼과 입력창의 스타일 개선 */
.bg-nature input,
.bg-space input,
.bg-geometric input,
.bg-nature button,
.bg-space button,
.bg-geometric button {
  backdrop-filter: blur(4px);
}

/* 배경 전환 애니메이션 */
.bg-nature,
.bg-space,
.bg-geometric,
.bg-default {
  transition: all 0.5s ease-in-out;
}

/* 배경 이미지 로딩 최적화 */
.bg-nature,
.bg-space,
.bg-geometric {
  background-color: #f8f9fa;
}

/* 배경 이미지가 로드되기 전의 fallback */
.bg-nature::before,
.bg-space::before,
.bg-geometric::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #f8f9fa;
  z-index: -1;
}

/* Windows 7 Aero Glass 효과 */
.aero-glass {
  background: rgba(255, 255, 255, 0.25) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  box-shadow: 
    0 8px 32px 0 rgba(31, 38, 135, 0.37),
    inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
}

/* 자연과 기하학 배경일 때 상단바 투명도 강화 */
.bg-nature .aero-glass,
.bg-geometric .aero-glass {
  background: rgba(255, 255, 255, 0.45) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
  border: 1px solid rgba(255, 255, 255, 0.4) !important;
  box-shadow: 
    0 8px 32px 0 rgba(31, 38, 135, 0.5),
    inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

/* 자연과 기하학 배경일 때 상단바 hover 효과도 강화 */
.bg-nature .aero-glass:hover,
.bg-geometric .aero-glass:hover {
  background: rgba(255, 255, 255, 0.55) !important;
  box-shadow: 
    0 8px 32px 0 rgba(31, 38, 135, 0.6),
    inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

/* Aero Glass 효과가 적용된 요소의 텍스트 가독성 향상 */
.aero-glass * {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Aero Glass 효과가 적용된 요소의 hover 효과 */
.aero-glass:hover {
  background: rgba(255, 255, 255, 0.35) !important;
  box-shadow: 
    0 8px 32px 0 rgba(31, 38, 135, 0.45),
    inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

/* 커뮤니티 애니메이션 */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.2s ease-out;
}

.animate-fade-in-up {
  animation: fade-in-up 0.3s ease-out;
}

/* 이미지 히스토리 카드 텍스트 줄바꿈 */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* 커뮤니티 애니메이션 */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.2s ease-out;
}

.animate-fade-in-up {
  animation: fade-in-up 0.3s ease-out;
}
